!function(){"use strict";var loaderScript=document.getElementById("amd-loader"),configUrl=loaderScript.getAttribute("data-config"),bundle=loaderScript.getAttribute("data-bundle"),loadController=function(){var controllerOptions={},controllerPath=loaderScript.getAttribute("data-controller"),params=loaderScript.getAttribute("data-params");try{controllerOptions=JSON.parse(params)}catch(err){controllerOptions={}}window.require([controllerPath],function(controller){var startController=function(){window.started||(window.started=!0,controller.start(controllerOptions))};document.addEventListener("readystatechange",startController,!1),
"complete"===document.readyState&&startController()})};window.require([configUrl],function(){window.loadBundles||(window.loaded={},window.loadBundles=function(bundles){bundles=(bundles=(bundles=bundles||[]).concat(window.bundles)).filter(function(item,index){return item&&bundles.indexOf(item)===index&&!0!==window.loaded[item]}),require(bundles,function(){bundles.forEach(function(item){window.loaded[item]=!0}),loadController()})}),bundle||window.bundles&&window.bundles.length?window.loadBundles([bundle]):loadController()})}(),define("loader/bootstrap",function(){}),define("taoProctoring/controller/app",["lodash","controller/app","core/dataProvider/request",
"ui/container","ui/breadcrumbs","util/url"],function(_,appController,request,containerFactory,breadcrumbsFactory,urlHelper){"use strict";var breadcrumbsUrl=urlHelper.route("load","Breadcrumbs","tao"),knownRoutes=[{url:urlHelper.route("index","DeliverySelection","taoProctoring"),params:["context"]},{url:urlHelper.route("index","Monitor","taoProctoring"),params:["delivery","context"]},{url:urlHelper.route("index","Reporting","taoProctoring"),params:["delivery","session","context"]}];return _.defaults({start:function(){var toolbox=containerFactory(".header"),breadcrumbs=breadcrumbsFactory({renderTo:toolbox.getElement(),replace:!0,
cls:"action-bar horizontal-action-bar"});appController.on("change.breadcrumbs",function(route){var parsedRoute=urlHelper.parse(route),routes=function(route){var routes=[],parsed=urlHelper.parse(route);return _.forEach(knownRoutes,function(knownRoute){var url=urlHelper.parse(knownRoute.url),params={};if(parsed.path===url.path)return routes.push(route),!1;_.forEach(knownRoute.params,function(param){parsed.query[param]&&(params[param]=decodeURIComponent(parsed.query[param]))}),routes.push(urlHelper.build(knownRoute.url,params))}),routes}(route);void 0!==parsedRoute.query["link-type"]&&"direct"===parsedRoute.query["link-type"]?(
delete parsedRoute.query["link-type"],window.location.replace(decodeURIComponent(urlHelper.build(parsedRoute.path,parsedRoute.query)))):request(breadcrumbsUrl,{route:routes},"POST").then(function(data){breadcrumbs.update(data)}).catch(function(err){appController.onError(err)})}).apply("a",toolbox.getElement()).start()}},appController)}),define("taoProctoring/loader/app.bundle",function(){}),window.bundles=(window.bundles||[]).concat(["taoQtiItem/loader/taoQtiItem.min","taoItems/loader/taoItems.min","taoQtiTest/loader/taoQtiTest.min"]);
//# sourceMappingURL=app.min.js.map